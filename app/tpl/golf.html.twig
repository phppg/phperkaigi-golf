{% extends "_base.html.twig" %}
{% block title %}login - â›³ PHPer Code Golf by pixiv{% endblock %}
{% block content %}
	<h1><a href="{{route('index')}}">â›³</a> PHPer Code Golf by pixiv</h1>
	<h2>{{ hole.title }}</h2>
	<p>{{ markdown(hole.description) }}</p>
	<form method="post" action="{{route('post_golf')}}">
		<input type="hidden" name="hole" value="{{ hole.slug }}">
		<textarea name="code" class="code" required>{{ code }}</textarea>
		{% if cupped_in == true %}
			<p>ğŸ‰ ã“ã®ã‚³ãƒ¼ãƒ‰ã¯è¦ä»¶ã‚’æº€ãŸã—ã¦ã„ã¾ã™ã€‚è¨˜éŒ²ã¨ã—ã¦ä¿å­˜ã•ã‚Œã¾ã—ãŸ ğŸŒï¸â€â™€ï¸</p>
			<details>
				<summary>ã‚³ãƒ¼ãƒ‰ã®ã‚¹ã‚³ã‚¢</summary>
				<table>
					<tr>
						<th>é …ç›®A(ä½ã„ã»ã©é«˜è©•ä¾¡)</th>
						<td>{{ stats.chars }}</td>
					</tr>
					<tr>
						<th>é …ç›®B(ä½ã„ã»ã©é«˜è©•ä¾¡)</th>
						<td>{{ stats.lines }}</td>
					</tr>
					<tr>
						<th>é …ç›®C(ä½ã„ã»ã©é«˜è©•ä¾¡)</th>
						<td>{{ stats.tokens }}</td>
					</tr>
					<tr>
						<th>é …ç›®D(ä½ã„ã»ã©é«˜è©•ä¾¡)</th>
						<td>{{ stats.chars }}</td>
					</tr>
					<tr>
						<th>é …ç›®E(é«˜ã„ã»ã©é«˜è©•ä¾¡)</th>
						<td>{{ stats.node_names|length }}</td>
					</tr>
				</table>
			</details>
		{% endif %}
		<div style="text-align: center;">
			<button type="submit">â›³ å®Ÿè¡Œ</button>
		</div>
	</form>

	{% if errors != null %}
		<h3>Error</h3>
		<ul>
			{% if errors.syntax_error %}
				<li class="code-error">Syntax error</li>
			{% endif %}
			{% if errors.timeout %}
				<li class="code-error">å®Ÿè¡Œæ™‚é–“ãŒã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã«ãªã‚Šã¾ã—ãŸ</li>
			{% endif %}
			{% if errors.not_match_output %}
				<li class="code-error">å‡ºåŠ›ãŒå•é¡Œã®è¦ä»¶ã«åˆã£ã¦ã„ã¾ã›ã‚“</li>
			{% endif %}
		</ul>
	{% endif %}

	{% include "_code_result.html.twig" %}
{% endblock %}
